{% extends "base.html" %}

{% block title %}Encrypted Chat - Secure Messaging{% endblock %}

{% block content %}
<div class="container">
    <!-- Hero Section -->
    <div class="row justify-content-center text-center py-5">
        <div class="col-lg-8">
            <div class="hero-section">
                <i class="bi bi-shield-lock-fill text-primary" style="font-size: 4rem;"></i>
                <h1 class="display-4 fw-bold text-primary mt-3">Encrypted Chat</h1>
                <p class="lead text-muted mb-4">
                    Secure, end-to-end encrypted messaging that protects your privacy
                </p>
                <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                    <a href="/register" class="btn btn-primary btn-lg px-4">Get Started</a>
                    <a href="/login" class="btn btn-outline-primary btn-lg px-4">Sign In</a>
                    <a href="/dual" class="btn btn-success btn-lg px-4">ðŸ§ª Test Demo</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Features Section -->
    <div class="row py-5">
        <div class="col-12">
            <h2 class="text-center mb-5">Why Choose Encrypted Chat?</h2>
        </div>
        
        <div class="col-md-4 mb-4">
            <div class="feature-card text-center p-4">
                <i class="bi bi-lock-fill text-primary" style="font-size: 3rem;"></i>
                <h4 class="mt-3">End-to-End Encryption</h4>
                <p class="text-muted">
                    Messages are encrypted with RSA + AES encryption before leaving your device. 
                    Only you and your recipient can read them.
                </p>
            </div>
        </div>
        
        <div class="col-md-4 mb-4">
            <div class="feature-card text-center p-4">
                <i class="bi bi-eye-slash-fill text-primary" style="font-size: 3rem;"></i>
                <h4 class="mt-3">Zero Knowledge</h4>
                <p class="text-muted">
                    Our servers cannot read your messages. Your private key stays on your device, 
                    ensuring complete privacy.
                </p>
            </div>
        </div>
        
        <div class="col-md-4 mb-4">
            <div class="feature-card text-center p-4">
                <i class="bi bi-lightning-charge-fill text-primary" style="font-size: 3rem;"></i>
                <h4 class="mt-3">Fast & Simple</h4>
                <p class="text-muted">
                    Clean, intuitive interface with real-time messaging. 
                    Security doesn't have to be complicated.
                </p>
            </div>
        </div>
    </div>

    <!-- How It Works Section -->
    <div class="row py-5 bg-light rounded">
        <div class="col-12">
            <h2 class="text-center mb-5">How It Works</h2>
        </div>
        
        <div class="col-md-3 mb-4">
            <div class="text-center">
                <div class="step-number">1</div>
                <h5 class="mt-3">Register Account</h5>
                <p class="text-muted">Create your account and we'll generate your unique RSA key pair</p>
            </div>
        </div>
        
        <div class="col-md-3 mb-4">
            <div class="text-center">
                <div class="step-number">2</div>
                <h5 class="mt-3">Find Friends</h5>
                <p class="text-muted">Search for other users by username to start secure conversations</p>
            </div>
        </div>
        
        <div class="col-md-3 mb-4">
            <div class="text-center">
                <div class="step-number">3</div>
                <h5 class="mt-3">Send Messages</h5>
                <p class="text-muted">Type your message and it's automatically encrypted before sending</p>
            </div>
        </div>
        
        <div class="col-md-3 mb-4">
            <div class="text-center">
                <div class="step-number">4</div>
                <h5 class="mt-3">Stay Secure</h5>
                <p class="text-muted">Your messages are decrypted only on your device using your private key</p>
            </div>
        </div>
    </div>

    <!-- Security Information -->
    <div class="row py-5">
        <div class="col-lg-8 mx-auto text-center">
            <h2 class="mb-4">Military-Grade Security</h2>
            <p class="lead text-muted mb-4">
                Our hybrid encryption system uses 2048-bit RSA keys for secure key exchange 
                and AES-256-GCM for message encryption, providing both security and performance.
            </p>
            
            <div class="row mt-4">
                <div class="col-md-6">
                    <div class="security-stat">
                        <h3 class="text-primary">RSA-2048</h3>
                        <p class="text-muted">Key Exchange Encryption</p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="security-stat">
                        <h3 class="text-primary">AES-256</h3>
                        <p class="text-muted">Message Encryption</p>
                    </div>
                </div>
            </div>
            
            <div class="alert alert-info mt-4">
                <i class="bi bi-info-circle-fill"></i>
                <strong>Privacy First:</strong> Your private key is generated locally and never transmitted to our servers. 
                We cannot read your messages even if we wanted to.
            </div>
        </div>
    </div>

    <!-- Call to Action -->
    <div class="row py-5 text-center bg-primary text-white rounded">
        <div class="col-12">
            <h2 class="mb-3">Ready to Start Secure Messaging?</h2>
            <p class="lead mb-4">Join thousands of users protecting their privacy with encrypted chat</p>
            <a href="/register" class="btn btn-light btn-lg px-5">Create Your Account</a>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    // Redirect to chat if already logged in
    if (getAuthToken()) {
        window.location.href = '/chat';
    }
</script>
{% endblock %}